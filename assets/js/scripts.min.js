/*
 * Bloks 1.0.0
 * Wordpress blocks builder.
 * http://bloks.co
 *
 * Copyright 2017, Bloks Co., Ltd.
*/

!function(e){function t(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var a={};t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,"a",a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=174)}({0:function(e,t){e.exports=jQuery},174:function(e,t,a){e.exports=a(175)},175:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=a(0),i=n(o),r=a(42),l=n(r),s=a(176),u=n(s);a(177),(0,i.default)(document).ready(function(){jQuery(".btn-send").on("click",function(e){return e.stopPropagation(),(new u.default).sendMail("form-"+this.id),!1})}),(0,i.default)(document).ready(function(){(0,i.default)(".map-row").each(function(e,t){var a=(0,i.default)(t).data("markers"),n=(0,i.default)(t).data("custommap"),o=(0,i.default)(t).find("."+(0,i.default)(t).data("classmap")).attr("id");(new l.default).init(o,a,n)})}),(0,i.default)(document).ready(function(){jQuery(".button-text").on("click",function(e){var t=(0,i.default)(this).find("a").attr("href");location.href=t})})},176:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),l=function(){function e(){n(this,e)}return o(e,[{key:"sendMail",value:function(e){if(!this.isValidFrom(e))return console.log("form valid"),!1;(0,r.default)("#"+e+" .msg-loading").show();var t=(0,r.default)("#"+e).serializeArray();r.default.ajax(Bloks.Params.baseUrl+"/wp-admin/admin-ajax.php?_wpnonce="+Bloks.Params.wpnonce,{method:"POST",dataType:"JSON",data:t}).done(function(a){a.succeed?((0,r.default)("#"+e+" .msg-loading").hide(),(0,r.default)("#"+e+" .msg-sendmail").addClass("text-success"),(0,r.default)("#"+e+" .msg-sendmail").text("Email sent successfully!"),(0,r.default)("#"+e).trigger("reset"),setTimeout(function(){(0,r.default)("#"+e+" .msg-sendmail").hide("slow")},2e3),t.forEach(function(e,a){if("linksubmit"==e.name&&""!=e.value){var n=e.value;/^((http|https|ftp):\/\/)/.test(n)||(n="http://"+n),r.default.post(n,t)}})):((0,r.default)("#"+e+" .msg-loading").hide(),(0,r.default)("#"+e+" .msg-sendmail").addClass("text-danger"),(0,r.default)("#"+e+" .msg-sendmail").text("Email sent error: "+a.error))})}},{key:"isValidFrom",value:function(e){var t=0,a=["name","email","phone"],n=(0,r.default)("#"+e),o=(0,r.default)(n).find("input, select, textarea"),i=this;return(0,r.default)(o).each(function(e,n){var o=(0,r.default)(this).attr("data_attr");a.indexOf(o)>=0&&(""==(0,r.default)(n).val()?((0,r.default)(n).addClass("form-invalid"),t++):((0,r.default)(n).removeClass("form-invalid"),"phone"==o&&(r.default.isNumeric((0,r.default)(n).val())||((0,r.default)(n).addClass("form-invalid"),t++)),"email"==o&&(i.isValidEmail((0,r.default)(n).val())||((0,r.default)(n).addClass("form-invalid"),t++))))}),!(t>0)}},{key:"isValidEmail",value:function(e){return!!/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)+|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/.test(e)}}]),e}();t.default=l},177:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(178),s=n(l),u=a(0),d=n(u),f=function(){function e(t,a){var n=this;o(this,e),this.$element=(0,d.default)(t),this.options=a,this.player=s.default.setup(t,a)[0];var i=(0,d.default)('<div class="bloks__mask"></div>');i.css({background:a.backdrop}),this.options.source={type:this.$element.data("type"),videoId:"youtube"===this.$element.data("type")||"vimeo"===this.$element.data("type")?this.$element.data("video-id"):this.$element.find("source").attr("src")},this.player.on("ready",function(e){var t=(0,d.default)(e.detail.plyr.getContainer());t.append(i),t.data("bloks.player",n),t.addClass(n.options.class),void 0===a.volume?n.player.setVolume(50):n.player.setVolume(a.volume)}),this.player.on("canplay",function(){!0===a.autoplay&&(n.player.pause(),n.player.play())})}return r(e,[{key:"destroy",value:function(){this.player.destroy()}},{key:"setBackdrop",value:function(e){(0,d.default)(this.player.getContainer()).find(".bloks__mask").css({background:e}),(0,d.default)(this.player.getOriginal()).attr("data-backdrop",e)}},{key:"setAutoplay",value:function(e){e?this.player.play():this.player.stop(),(0,d.default)(this.player.getOriginal()).attr("data-autoplay",e)}}]),e}(),c={tooltips:{controls:!0},autoplay:!1,volume:50,backdrop:"transparent"};!function(){function e(e){var t=Array.prototype.slice.call(arguments,1);return this.each(function(){var a=(0,d.default)(this),n=a.data("bloks.player"),o=d.default.extend({},c,a.data(),"object"===(void 0===e?"undefined":i(e))&&e);n||a.data("bloks.player",n=new f(this,o)),"string"==typeof e&&d.default.isFunction(n[e])&&n[e].apply(n,t)})}var t=d.default.fn.player;d.default.fn.player=e,d.default.fn.player.Constructor=f,d.default.fn.player.noConflict=function(){return d.default.fn.player=t,this},(0,d.default)(window).on("load",function(){(0,d.default)('[data-player="true"]').each(function(){var t=(0,d.default)(this);e.call(t,t.data())})})}()},178:function(e,t){e.exports=plyr},42:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),l=[],s=[],u=[],d=function(){function e(){n(this,e)}return o(e,[{key:"init",value:function(e,t,a){u[e]=new Array;var n={mapTypeId:google.maps.MapTypeId.ROADMAP,scrollwheel:!1,navigationControl:!1,mapTypeControl:!1,scaleControl:!1,draggable:!0,styles:a};l[e]=new google.maps.Map((0,r.default)("#"+e).get(0),n),this.getLatLngAddress(e,t)}},{key:"getLatLngAddress",value:function(e,t){this.deleteOverlays(e);var a=new google.maps.LatLngBounds;t.forEach(function(n,o){var i=new google.maps.Geocoder,r="";i.geocode({address:n.title},function(o,i){if(i==google.maps.GeocoderStatus.OK){r=n.icon?n.icon:"http://bloks.co/demo_images/map-default.png";var d=0,f=0,c=new Image;c.src=r,c.onload=function(){if(this.height>this.width){this.width>50?(d=50*this.width/this.width,f=50*this.height/this.width):(d=this.width,f=this.height);var n={url:r,scaledSize:new google.maps.Size(d,f)};s[e]=new google.maps.Marker({map:l[e],position:o[0].geometry.location,icon:n})}else if(this.width>this.height){this.height>50?(d=50*this.width/this.height,f=50*this.height/this.height):(d=this.width,f=this.height);var i={url:r,scaledSize:new google.maps.Size(d,f)};s[e]=new google.maps.Marker({map:l[e],position:o[0].geometry.location,icon:i})}else{d=50,f=50;var c={url:r,scaledSize:new google.maps.Size(d,f)};s[e]=new google.maps.Marker({map:l[e],position:o[0].geometry.location,icon:c})}s[e].setMap(l[e]),1==t.length?(l[e].setCenter(o[0].geometry.location),l[e].fitBounds(o[0].geometry.viewport)):(a.extend(s[e].position),l[e].fitBounds(a)),t.length>=2&&22==l[e].getZoom()&&l[e].setZoom(16),u[e].push(s[e])}}else console.log("Geocode was not successful for the following reason: "+i)})})}},{key:"getAddressParts",value:function(e){var t={};return e.address_components.forEach(function(e){t[e.types[0]]=e.short_name}),t}},{key:"fitBoundsMarkers",value:function(e){var t=new google.maps.LatLngBounds;if(u[e]){for(var a in u[e])u[e][a].setMap(l[e]),t.extend(u[e][a].position);l[e].fitBounds(t)}1==u[e].length&&(l[e].setZoom(15),l[e].setCenter(u[e][0].position))}},{key:"deleteOverlays",value:function(e){if(u[e]){for(var t in u[e])u[e][t].setMap(null);u[e].length=0}}},{key:"deleteMarker",value:function(e,t){void 0!=u[e][t]&&(u[e][t].setMap(null),u[e].splice(t,1))}},{key:"changeIconMarker",value:function(e,t,a){if(void 0!=u[e][t]&&""!=a){var n=0,o=0,i=new Image;i.src=a,i.onload=function(){if(this.height>this.width){this.width>50?(n=50*this.width/this.width,o=50*this.height/this.width):(n=this.width,o=this.height);var i={url:a,scaledSize:new google.maps.Size(n,o)};u[e][t].setIcon(i)}else if(this.width>this.height){this.height>50?(n=50*this.width/this.height,o=50*this.height/this.height):(n=this.width,o=this.height);var r={url:a,scaledSize:new google.maps.Size(n,o)};u[e][t].setIcon(r)}else{n=50,o=50;var l={url:a,scaledSize:new google.maps.Size(n,o)};u[e][t].setIcon(l)}}}}}]),e}();t.default=d}});